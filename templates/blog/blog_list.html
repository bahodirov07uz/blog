{% extends "base.html" %}

{% block title %}Blog · Developer Portfolio{% endblock %}

{% block content %}
<section class="space-y-4">
    <p class="text-xs uppercase tracking-[0.2em] text-gray-400">Blog</p>
    <h1 class="text-2xl font-semibold tracking-tight text-white sm:text-3xl">Writing & notes.</h1>
    <p class="max-w-2xl text-sm leading-relaxed text-gray-300 sm:text-base">
        Longer-form thoughts on engineering, architecture, and building calm, resilient products.
    </p>
</section>

<section class="mt-10 space-y-8">
    {% if posts %}
        <div class="space-y-6">
            {% for post in posts %}
                <article class="group grid gap-6 rounded-2xl border border-neutral-800 bg-neutral-950/60 p-4 transition hover:border-gray-500 hover:bg-neutral-900/70 hover:shadow-xl hover:shadow-black/40 md:grid-cols-[minmax(0,1.2fr)_minmax(0,1fr)] md:p-5">
                    <div class="flex flex-col">
                        <p class="text-[0.68rem] uppercase tracking-[0.16em] text-gray-500">
                            {{ post.created_at|date:"M j, Y" }}
                        </p>
                        <h2 class="mt-2 text-lg font-semibold text-gray-100 group-hover:text-white">
                            <a href="{% url 'blog:detail' slug=post.slug %}" class="hover:underline underline-offset-4">
                                {{ post.title }}
                            </a>
                        </h2>
                        {% if post.excerpt %}
                            <p class="mt-2 line-clamp-3 text-sm leading-relaxed text-gray-300">
                                {{ post.excerpt }}
                            </p>
                        {% endif %}
                        <div class="mt-4 text-xs font-medium text-gray-300">
                            <a href="{% url 'blog:detail' slug=post.slug %}" class="inline-flex items-center gap-1.5 hover:text-white">
                                <span>Read article</span>
                                <span aria-hidden="true">↗</span>
                            </a>
                        </div>
                    </div>
                    <div class="relative overflow-hidden rounded-xl border border-neutral-800 bg-neutral-900 md:h-44">
                        {% if post.hero_image %}
                            <img src="{{ post.hero_image.url }}"
                                 alt="{{ post.title }}"
                                 class="h-full w-full object-cover transition duration-500 group-hover:scale-105">
                        {% else %}
                            <div class="flex h-full items-center justify-center text-xs text-gray-500">
                                No image
                            </div>
                        {% endif %}
                    </div>
                </article>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-sm text-gray-400">
            No posts yet. Create a `BlogPost` in the Django admin to start your blog.
        </p>
    {% endif %}
</section>
{% endblock %}


