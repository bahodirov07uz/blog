{% extends "base.html" %}

{% block title %}Projects · Developer Portfolio{% endblock %}

{% block content %}
<section class="space-y-4">
    <p class="text-xs uppercase tracking-[0.2em] text-gray-400">Projects</p>
    <h1 class="text-2xl font-semibold tracking-tight text-white sm:text-3xl">Selected work.</h1>
    <p class="max-w-2xl text-sm leading-relaxed text-gray-300 sm:text-base">
        A curated set of experiments, client work, and side projects. Each card is powered by Django models and fully editable via the admin.
    </p>
</section>

<section class="mt-10">
    {% if projects %}
        <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
            {% for project in projects %}
                <article class="group flex h-full flex-col overflow-hidden rounded-2xl border border-neutral-800 bg-neutral-950/60 transition hover:-translate-y-1 hover:border-gray-500 hover:bg-neutral-900/70 hover:shadow-xl hover:shadow-black/40">
                    <a href="{% url 'projects:detail' slug=project.slug %}" class="flex flex-1 flex-col">
                        <div class="relative overflow-hidden">
                            {% if project.preview_image %}
                                <img src="{{ project.preview_image.url }}"
                                     alt="{{ project.title }}"
                                     class="h-40 w-full object-cover transition duration-500 group-hover:scale-105">
                            {% else %}
                                <div class="flex h-40 items-center justify-center text-xs text-gray-500">
                                    No preview image
                                </div>
                            {% endif %}
                            {% if project.is_featured %}
                                <span class="absolute left-3 top-3 rounded-full bg-white/90 px-2.5 py-1 text-[0.65rem] font-semibold uppercase tracking-[0.14em] text-black">
                                    Featured
                                </span>
                            {% endif %}
                        </div>
                        <div class="flex flex-1 flex-col p-4">
                            <h2 class="text-sm font-semibold text-gray-100 group-hover:text-white">
                                {{ project.title }}
                            </h2>
                            <p class="mt-2 line-clamp-3 text-xs leading-relaxed text-gray-400">
                                {{ project.short_description }}
                            </p>
                            {% if project.tech_stack.all %}
                                <div class="mt-3 flex flex-wrap gap-1.5">
                                    {% for tag in project.tech_stack.all %}
                                        <span class="rounded-full bg-neutral-900 px-2 py-1 text-[0.65rem] font-medium text-gray-300">
                                            {{ tag.name }}
                                        </span>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </a>
                    {% if project.external_link %}
                        <div class="flex items-center justify-between border-t border-neutral-800 px-4 py-3 text-[0.7rem] text-gray-400">
                            <span>External link</span>
                            <a href="{{ project.external_link }}" target="_blank" rel="noreferrer"
                               class="inline-flex items-center gap-1 text-xs font-medium text-gray-200 hover:text-white">
                                View live
                                <span aria-hidden="true">↗</span>
                            </a>
                        </div>
                    {% endif %}
                </article>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-sm text-gray-400">
            No projects yet. Add some `Project` entries in the Django admin to showcase your work.
        </p>
    {% endif %}
</section>
{% endblock %}


